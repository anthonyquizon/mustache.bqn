# delete leaf nodes - match to parent tree

âŸ¨DrawâŸ© â† â€¢Import "tree.bqn" 
Parent â‡ { gâ†âŠ”ğ•© â‹„ (â†•â‰ ğ•©) {aâ€¿wâ†ğ•¨ â‹„ (âŠâŸœa 1-Ëœaâ‹w)âŒ¾(wâŠ¸âŠ) ğ•© }Â´ (1â†“(Â»g){ğ•¨â€¿ğ•©}Â¨g) }
mustache â† â€¢Import "mustache.bqn" 

a â† {
  peachâ‡âŸ¨
    {figâ‡1, appleâ‡âŸ¨
      {cheeseâ‡"hello", bananaâ‡2, appleâ‡"apple value"}, 
      {bananaâ‡3, cheeseâ‡"weee", appleâ‡"also apple value"}
    âŸ©}
  âŸ©,
  figâ‡âŸ¨
    {figâ‡1, appleâ‡âŸ¨
      {cheeseâ‡"fig cheese", bananaâ‡3}, 
      {bananaâ‡4, cheeseâ‡"also fig cheese"}
    âŸ©}
  âŸ©,
  each0â‡âŸ¨{
    each1â‡âŸ¨{
      each2â‡âŸ¨
        {figâ‡"fig value"â‹„bananaâ‡"banana value",catâ‡"cat value"},
        {figâ‡"another fig value"â‹„bananaâ‡"another banana value",catâ‡"another cat value"},
      âŸ©
    }âŸ©
  },{
    each1â‡âŸ¨{
      each2â‡âŸ¨
        {figâ‡"a"â‹„bananaâ‡"x", catâ‡"p"},
        {figâ‡"b"â‹„bananaâ‡"y", catâ‡"q"},
        {figâ‡"c"â‹„bananaâ‡"z", catâ‡"r"}
      âŸ©
    }âŸ©
  }âŸ©,
  lemonâ‡"hello lemon",
  grapeâ‡âŸ¨
    {mangoâ‡"mango value" â‹„ lemonâ‡"lemon value"}
  âŸ©,
}

#{
  #âŸ¨[p,t,r]â‡ptr,nâ‡nâŸ©â†mustache.ParseNs a
  #(âˆ¾1â†‘Â¨râŠn) Draw p 
#}
tpl â† mustache.Parse (â€¢file.Chars "test0.mustache")
#tpl â† mustache.Parse (â€¢file.Chars "test1.mustache")
#tpl â† mustache.Parse (â€¢file.Chars "test2.mustache")

#â€¢Show â€¢Type a
#[p,t,r] â† tpl.ptr
tpl mustache.Compile a
#"test0.mustache" mustache.Compile a

