â€¢Show "---"
# delete leaf nodes - match to parent tree

âŸ¨DrawâŸ© â† â€¢Import "tree.bqn" 
Parent â‡ { gâ†âŠ”ğ•© â‹„ (â†•â‰ ğ•©) {aâ€¿wâ†ğ•¨ â‹„ (âŠâŸœa 1-Ëœaâ‹w)âŒ¾(wâŠ¸âŠ) ğ•© }Â´ (1â†“(Â»g){ğ•¨â€¿ğ•©}Â¨g) }
mustache â† â€¢Import "mustache.bqn" 

a â† {
  #peachâ‡âŸ¨
    #{figâ‡1, appleâ‡âŸ¨
      #{cheeseâ‡"hello", bananaâ‡2, appleâ‡"apple value"}, 
      #{bananaâ‡3, cheeseâ‡"weee", appleâ‡"also apple value"}
    #âŸ©}
  #âŸ©,
  #figâ‡âŸ¨
    #{figâ‡1, appleâ‡âŸ¨
      #{cheeseâ‡"fig cheese", bananaâ‡3}, 
      #{bananaâ‡4, cheeseâ‡"also fig cheese"}
    #âŸ©}
  #âŸ©,
  each0â‡âŸ¨{
    each1â‡âŸ¨{
      each2â‡âŸ¨
        {figâ‡0â‹„bananaâ‡2},
        {figâ‡1â‹„bananaâ‡3},
      âŸ©
    }âŸ©
  },{
    each1â‡âŸ¨{
      each2â‡âŸ¨
        {figâ‡"a"â‹„bananaâ‡"x"},
        {figâ‡"b"â‹„bananaâ‡"y"},
        {figâ‡"c"â‹„bananaâ‡"z"}
      âŸ©
    }âŸ©
  }âŸ©,
  lemonâ‡"hello lemon",
  grapeâ‡âŸ¨
    {lemonâ‡3, mangoâ‡4}
  âŸ©,
}

#{
  #âŸ¨[p,t,r]â‡ptr,nâ‡nâŸ©â†mustache.ParseNs a
  #(âˆ¾1â†‘Â¨râŠn) Draw p 
#}
tpl â† mustache.Parse (â€¢file.Chars "test0.mustache")
#tpl â† mustache.Parse (â€¢file.Chars "test1.mustache")
#tpl â† mustache.Parse (â€¢file.Chars "test2.mustache")
[p,t,r] â† tpl.ptr
tpl mustache.Compile a

